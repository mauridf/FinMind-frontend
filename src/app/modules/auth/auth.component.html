<div class="auth-container">
  <div class="auth-background">
    <div class="auth-card-wrapper">
      <mat-card class="auth-card">
        <mat-card-header class="auth-header">
          <div class="logo-container">
            <mat-icon class="logo-icon">account_balance</mat-icon>
            <h1 class="app-title">FinMind</h1>
          </div>
          <p class="app-subtitle">Sistema Inteligente de Gestão Financeira</p>
        </mat-card-header>

        <mat-card-content>
          <mat-tab-group [(selectedIndex)]="selectedTab" animationDuration="500ms">
            <!-- Login Tab -->
            <mat-tab label="Login">
              <form [formGroup]="loginForm" (ngSubmit)="onLogin()" class="auth-form">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>E-mail</mat-label>
                  <input matInput formControlName="email" type="email">
                  <mat-icon matSuffix>email</mat-icon>
                  <mat-error *ngIf="loginForm.get('email')?.hasError('required')">
                    E-mail é obrigatório
                  </mat-error>
                  <mat-error *ngIf="loginForm.get('email')?.hasError('email')">
                    E-mail inválido
                  </mat-error>
                </mat-form-field>

                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Senha</mat-label>
                  <input matInput formControlName="password" type="password">
                  <mat-icon matSuffix>lock</mat-icon>
                  <mat-error *ngIf="loginForm.get('password')?.hasError('required')">
                    Senha é obrigatória
                  </mat-error>
                  <mat-error *ngIf="loginForm.get('password')?.hasError('minlength')">
                    Senha deve ter pelo menos 6 caracteres
                  </mat-error>
                </mat-form-field>

                <button 
                  mat-raised-button 
                  color="primary" 
                  type="submit" 
                  class="full-width auth-button"
                  [disabled]="!loginForm.valid || isLoading">
                  <mat-spinner diameter="20" *ngIf="isLoading"></mat-spinner>
                  <span *ngIf="!isLoading">Entrar</span>
                </button>
              </form>
            </mat-tab>

            <!-- Register Tab -->
            <mat-tab label="Registrar">
              <form [formGroup]="registerForm" (ngSubmit)="onRegister()" class="auth-form">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Nome Completo</mat-label>
                  <input matInput formControlName="name">
                  <mat-icon matSuffix>person</mat-icon>
                  <mat-error *ngIf="registerForm.get('name')?.hasError('required')">
                    Nome é obrigatório
                  </mat-error>
                </mat-form-field>

                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>E-mail</mat-label>
                  <input matInput formControlName="email" type="email">
                  <mat-icon matSuffix>email</mat-icon>
                  <mat-error *ngIf="registerForm.get('email')?.hasError('required')">
                    E-mail é obrigatório
                  </mat-error>
                  <mat-error *ngIf="registerForm.get('email')?.hasError('email')">
                    E-mail inválido
                  </mat-error>
                </mat-form-field>

                <div class="form-row">
                  <mat-form-field appearance="outline" class="half-width">
                    <mat-label>CPF</mat-label>
                    <input matInput formControlName="cpf" mask="000.000.000-00">
                    <mat-icon matSuffix>badge</mat-icon>
                    <mat-error *ngIf="registerForm.get('cpf')?.hasError('required')">
                      CPF é obrigatório
                    </mat-error>
                  </mat-form-field>

                  <mat-form-field appearance="outline" class="half-width">
                    <mat-label>Telefone</mat-label>
                    <input matInput formControlName="phone" mask="(00) 00000-0000">
                    <mat-icon matSuffix>phone</mat-icon>
                    <mat-error *ngIf="registerForm.get('phone')?.hasError('required')">
                      Telefone é obrigatório
                    </mat-error>
                  </mat-form-field>
                </div>

                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Senha</mat-label>
                  <input matInput formControlName="password" type="password">
                  <mat-icon matSuffix>lock</mat-icon>
                  <mat-error *ngIf="registerForm.get('password')?.hasError('required')">
                    Senha é obrigatória
                  </mat-error>
                  <mat-error *ngIf="registerForm.get('password')?.hasError('minlength')">
                    Senha deve ter pelo menos 6 caracteres
                  </mat-error>
                </mat-form-field>

                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Confirmar Senha</mat-label>
                  <input matInput formControlName="confirmPassword" type="password">
                  <mat-icon matSuffix>lock_reset</mat-icon>
                  <mat-error *ngIf="registerForm.get('confirmPassword')?.hasError('required')">
                    Confirmação de senha é obrigatória
                  </mat-error>
                  <mat-error *ngIf="registerForm.get('confirmPassword')?.hasError('passwordMismatch')">
                    As senhas não coincidem
                  </mat-error>
                </mat-form-field>

                <button 
                  mat-raised-button 
                  color="accent" 
                  type="submit" 
                  class="full-width auth-button"
                  [disabled]="!registerForm.valid || isLoading">
                  <mat-spinner diameter="20" *ngIf="isLoading"></mat-spinner>
                  <span *ngIf="!isLoading">Criar Conta</span>
                </button>
              </form>
            </mat-tab>
          </mat-tab-group>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>